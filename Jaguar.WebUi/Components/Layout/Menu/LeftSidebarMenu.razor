
@using Jaguar.Core.Services.AppState
@using Jaguar.Core.States
@inject  AppStateService AppState
@rendermode  InteractiveServer
@attribute [StreamRendering]

<div class="w-13 flex flex-col p-2 h-full bg-black transition-all duration-300 ease-in-out shadow-2xl flex-shrink-0">

    <!-- Top Left Corner (Toggle Area) -->
    <div class="flex-shrink-0 justify-center flex items-center">
        <div class="w-full !h-[130px] text-lg font-extrabold bg-neutral-900 rounded-lg text-white uppercase tracking-wider">
            
        </div>
    </div>

    <!-- Navigation Links -->
    <nav class="flex-grow p-0 overflow-y-auto">
        <button type="button"
            @onclick="AppState.ToggleRightPanelOpen"
            class="nav-link-base mt-3 group h-6 w-full rounded-sm bg-neutral-800 transition-300"
            >
            
        </button>
        @foreach (var item in navItems)
        {
            <div class="mt-3">
                <NavLink href="@item.Href" Match="NavLinkMatch.All"
                         class="nav-link-base group h-6 w-full rounded-sm bg-neutral-800 transition-300"
                         title="@item.Name">
                    <!-- Icon -->
                    <span class="bi @item.IconClass transition-300 flex-shrink-0 transition-transform duration-150"></span>
                </NavLink>
            </div>
        }
    </nav>
    
    <div class="flex-shrink-0 p-3">
        @foreach (var item in navItems)
        {
            <div class="mt-3">
                <NavLink href="@item.Href" Match="NavLinkMatch.All"
                         class="nav-link-base group h-6 w-full rounded-sm bg-neutral-800 transition-300"
                         title="@item.Name">
                    <!-- Icon -->
                    <span class="bi @item.IconClass transition-300 flex-shrink-0 transition-transform duration-150"></span>
                </NavLink>
            </div>
        }
    </div>
</div>

@code {
    
// Navigation Data Structure
private NavItem[] navItems = new[]
{
new NavItem { Name = "Overview", Href = "/", IconClass = "bi-grid" },
new NavItem { Name = "My Components", Href = "/components", IconClass = "bi-puzzle" },
new NavItem { Name = "Analytics", Href = "/analytics", IconClass = "bi-graph-up" },
new NavItem { Name = "Overview", Href = "/", IconClass = "bi-grid" },
new NavItem { Name = "My Components", Href = "/components", IconClass = "bi-puzzle" },
new NavItem { Name = "Analytics", Href = "/analytics", IconClass = "bi-graph-up" }
};

// Helper class definition (needed for the data array)
public class NavItem
{
public string Name { get; set; } = string.Empty;
public string Href { get; set; } = string.Empty;
public string IconClass { get; set; } = string.Empty;
}
}

