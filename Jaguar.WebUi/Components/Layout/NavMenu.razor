@using Microsoft.AspNetCore.Components.Routing

<div class="@(IsCollapsed ? "w-16" : "w-64") 
            flex flex-col h-full bg-black transition-all duration-300 ease-in-out shadow-2xl flex-shrink-0">

    <!-- Top Left Corner (Toggle Area) -->
    <div class="flex-shrink-0 @(IsCollapsed ? "justify-center" : "p-4 justify-start") 
                flex items-center">
        <div class="ml-3 w-full !h-[130px] text-lg font-extrabold bg-neutral-900 rounded-lg text-white uppercase tracking-wider">
            
        </div>
    </div>

    <!-- Navigation Links -->
    <nav class="flex-grow p-0 overflow-y-auto">
        @foreach (var item in navItems)
        {
        <div class="mt-2">
            <NavLink href="@item.Href" Match="NavLinkMatch.All"
                     class="nav-link-base group transition-300"
                     title="@item.Name">
                <!-- Icon -->
                <span class="bi @item.IconClass @(IsCollapsed ? "text-2xl" : "text-lg") transition-300 flex-shrink-0 transition-transform duration-150"></span>

                <!-- Text (Hidden when collapsed) -->
                @if (!IsCollapsed)
                {
                <span class="ml-4 whitespace-nowrap text-xs overflow-hidden text-ellipsis transition-opacity duration-300">
                            @item.Name
                        </span>
                }
            </NavLink>
        </div>
        }
    </nav>

    <!-- Bottom Section (User/Logout Avatar) -->
    <div class="flex-shrink-0 p-3">
        <button class="@(IsCollapsed ? "w-full justify-center" : "w-full justify-start") 
                       flex items-center p-3 text-gray-400 hover:bg-gray-700 hover:text-white rounded transition duration-150">
            <!-- Icon N (User Initial) -->
            <span class="text-white text-2xl font-black font-mono">N</span>
        </button>
    </div>
</div>

@code {
[Parameter]
public bool IsCollapsed { get; set; }

[Parameter]
public EventCallback OnToggle { get; set; }

// Navigation Data Structure
private NavItem[] navItems = new[]
{
new NavItem { Name = "Overview", Href = "/", IconClass = "bi-grid" },
new NavItem { Name = "My Components", Href = "/components", IconClass = "bi-puzzle" },
new NavItem { Name = "Analytics", Href = "/analytics", IconClass = "bi-graph-up" }
};

// Helper class definition (needed for the data array)
public class NavItem
{
public string Name { get; set; } = string.Empty;
public string Href { get; set; } = string.Empty;
public string IconClass { get; set; } = string.Empty;
}
}

